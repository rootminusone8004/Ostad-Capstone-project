====================================================
OSTAD CAPSTONE PROJECT - SYSTEM HEALTH REPORT
====================================================

Generated on: {{ ansible_date_time.iso8601 }}
Report for: {{ ansible_hostname }} ({{ ansible_default_ipv4.address }})

SYSTEM INFORMATION:
- Operating System: {{ ansible_distribution }} {{ ansible_distribution_version }}
- Kernel Version: {{ ansible_kernel }}
- Architecture: {{ ansible_architecture }}
- CPU Cores: {{ ansible_processor_vcpus }}
- Total Memory: {{ ansible_memtotal_mb }} MB
- System Uptime: {{ system_uptime.stdout }}

RESOURCE UTILIZATION:
- Disk Usage (Root): {{ disk_usage.stdout }}
- Memory Usage: {{ memory_usage.stdout }}
- CPU Load: {{ cpu_load.stdout }}
- Zombie Processes: {{ zombie_processes.stdout }}

NETWORK CONNECTIVITY:
- Google DNS (8.8.8.8): {{ 'REACHABLE' if network_check.rc == 0 else 'UNREACHABLE' }}

SERVICES STATUS:
- Containerd: {{ containerd_status.status.ActiveState }}
{% if kubelet_status.status is defined %}
- Kubelet: {{ kubelet_status.status.ActiveState }}
{% endif %}

SECURITY & MAINTENANCE:
- Failed Login Attempts: {{ failed_logins.stdout | default('unable to check') }}
- Available System Updates: {{ available_updates.stdout_lines | length }}
- Critical System Errors (last hour): {{ critical_errors.stdout }}

FILESYSTEM INTEGRITY:
{% for result in fs_integrity.results %}
{% if result.stdout is defined %}
- {{ result.item }}: {{ result.stdout }}
{% endif %}
{% endfor %}

LISTENING PORTS:
{{ listening_ports.stdout }}

====================================================
Report generated by Ansible Health Check Role
Ostad Capstone Project DevOps Pipeline
====================================================
